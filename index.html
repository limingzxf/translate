
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


</head>
<body>

<textarea  rows="10" cols="30" wrap="off" style="overflow:scroll;" class="textarea_txt" name="raw_txt" id = "raw" onchange="hit()"></textarea>
<style type="text/css">
.slide-two{

background-color: white;
border: 1px solid #DCDCDC;

font-size: 25px;
color:black;
outline: none;
}
.ta2{


margin-right: 55px;
border: 0px solid #DCDCDC;

}
.div_p{
margin-top: 5.5px;
}

.p_size{
font-size: 25px;
  
}
.textarea_txt{
font-size: 20px;
  
}
.wait{
  font-size: 15px;
  color: red;
  text-align: center;
}

		</style>




<div class= "div_p" >
  
<span class="ta2">
  
    <button type="button" id="submit" class="slide-two"  onclick="hit()">translate</button>
   
</span>
<span class="ta2">
    <button type="button" id="clear" class="slide-two"  onclick="cls()">clear</button>
</span>

  
</div>
<div class= "div_p" >


</div>
    <button type="button" id="copy" class="slide-two"  onclick="cpy2()">copy</button>




<br/>
<div class="alert alert-success" id="success-alert">

  
  <p class="wait">请等一下! </p>
  
</div>


<!--...


<textarea  rows="10" cols="30" wrap="off" style="overflow:scroll;" id = "raw2"></textarea>
-->
<p id ="doc" class= "p_size" onclick="cpy()"></p>

<br/>




  <script>
 //   var con= document.getElementById('raw').value();
 
 
      $(document).ready(function() {
  $("#success-alert").hide();
  
});

      function showAlert() {
    $("#success-alert").fadeTo(100, 1).slideUp(1000 );
  }
  
    
function cls(){
//alert("clear");
	  document.getElementById('raw').value="\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n";
	  document.getElementById('doc').innerHTML="";

		  
		}
		function hit(){
var c = document.getElementById("raw").value
//	alert(c)
	var newstr = c.replace(/\n/g, ' ');
	var newstr = c.replace(/</g, '&lt;');
  //在此处，正则表达式的末尾有个g，它表示match源字符串str中所有匹配项。
//这里如果没有g，那么也只能匹配到第一个错别字”背景“，只有加了这个g，才能匹配到所有的”背景“。
	  document.getElementById('doc').innerHTML=newstr;
     setTimeout(cpy,1000);

		  
		}
		
  function isChinese(temp) 
  { 
  var re=/[^\u4e00-\u9fa5]/; 
  if(re.test(temp)) return false; 
  return true; 
  } 
  


		//为submit绑定点击事件，将name的值在也页面弹窗显示
  function cpy2() {
        var Url2=document.getElementById('doc').innerText;
        
        
     
        var oInput = document.createElement('input');
        oInput.value = Url2;
        document.body.appendChild(oInput);
        oInput.select(); // 选择对象
        document.execCommand("Copy"); // 执行浏览器复制命令
        oInput.className = 'oInput';
        oInput.style.display='none';
        console.log("复制成功");
        
    }
  function cpy() {
        var Url2=document.getElementById('doc').innerText;
        
        if(!(isChinese(Url2[0]))){
        showAlert();
        }else{
     
        var oInput = document.createElement('input');
        oInput.value = Url2;
        document.body.appendChild(oInput);
        oInput.select(); // 选择对象
        document.execCommand("Copy"); // 执行浏览器复制命令
        oInput.className = 'oInput';
        oInput.style.display='none';
        console.log("复制成功");
        }
    }





  </script>

  
  

</body>

</html>






